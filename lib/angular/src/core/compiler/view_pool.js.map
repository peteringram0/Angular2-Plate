{"version":3,"sources":["view_pool.js"],"names":[],"mappings":"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","file":"src/core/compiler/view_pool.js","sourceRoot":"/Users/peteringram/Code/Angular2-Plate/node_modules/angular2/es6/dev/","sourcesContent":["import {assert} from \"rtts_assert/rtts_assert\";\nimport {Inject,\n  OpaqueToken} from 'angular2/di';\nimport {ListWrapper,\n  MapWrapper,\n  Map,\n  List} from 'angular2/src/facade/collection';\nimport {isPresent,\n  isBlank} from 'angular2/src/facade/lang';\nimport * as viewModule from './view';\nexport const APP_VIEW_POOL_CAPACITY = 'AppViewPool.viewPoolCapacity';\nexport class AppViewPool {\n  constructor(poolCapacityPerProtoView) {\n    this._poolCapacityPerProtoView = poolCapacityPerProtoView;\n    this._pooledViewsPerProtoView = MapWrapper.create();\n  }\n  getView(protoView) {\n    assert.argumentTypes(protoView, viewModule.AppProtoView);\n    var pooledViews = MapWrapper.get(this._pooledViewsPerProtoView, protoView);\n    if (isPresent(pooledViews) && pooledViews.length > 0) {\n      return assert.returnType((ListWrapper.removeLast(pooledViews)), viewModule.AppView);\n    }\n    return assert.returnType((null), viewModule.AppView);\n  }\n  returnView(view) {\n    assert.argumentTypes(view, viewModule.AppView);\n    var protoView = view.proto;\n    var pooledViews = MapWrapper.get(this._pooledViewsPerProtoView, protoView);\n    if (isBlank(pooledViews)) {\n      pooledViews = [];\n      MapWrapper.set(this._pooledViewsPerProtoView, protoView, pooledViews);\n    }\n    if (pooledViews.length < this._poolCapacityPerProtoView) {\n      ListWrapper.push(pooledViews, view);\n    }\n  }\n}\nObject.defineProperty(AppViewPool, \"parameters\", {get: function() {\n    return [[new Inject(APP_VIEW_POOL_CAPACITY)]];\n  }});\nObject.defineProperty(AppViewPool.prototype.getView, \"parameters\", {get: function() {\n    return [[viewModule.AppProtoView]];\n  }});\nObject.defineProperty(AppViewPool.prototype.returnView, \"parameters\", {get: function() {\n    return [[viewModule.AppView]];\n  }});\n//# sourceMappingURL=view_pool.js.map\n\n//# sourceMappingURL=./view_pool.map"]}