{"version":3,"sources":["dynamic_component_loader.js"],"names":[],"mappings":"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","file":"src/core/compiler/dynamic_component_loader.js","sourceRoot":"/Users/peteringram/Code/Angular2-Plate/node_modules/angular2/es6/dev/","sourcesContent":["import {assert} from \"rtts_assert/rtts_assert\";\nimport {Key,\n  Injector,\n  Injectable,\n  ResolvedBinding,\n  Binding,\n  bind} from 'angular2/di';\nimport {Compiler} from './compiler';\nimport {Type,\n  BaseException,\n  stringify,\n  isPresent} from 'angular2/src/facade/lang';\nimport {Promise} from 'angular2/src/facade/async';\nimport {AppViewManager} from 'angular2/src/core/compiler/view_manager';\nimport {ElementRef} from './element_injector';\nimport {AppView} from './view';\nexport class ComponentRef {\n  constructor(location, instance, componentView, dispose) {\n    assert.argumentTypes(location, ElementRef, instance, assert.type.any, componentView, AppView, dispose, Function);\n    this.location = location;\n    this.instance = instance;\n    this.componentView = componentView;\n    this._dispose = dispose;\n  }\n  get injector() {\n    return this.location.injector;\n  }\n  get hostView() {\n    return this.location.hostView;\n  }\n  dispose() {\n    this._dispose();\n  }\n}\nObject.defineProperty(ComponentRef, \"parameters\", {get: function() {\n    return [[ElementRef], [assert.type.any], [AppView], [Function]];\n  }});\nexport class DynamicComponentLoader {\n  constructor(compiler, viewManager) {\n    assert.argumentTypes(compiler, Compiler, viewManager, AppViewManager);\n    this._compiler = compiler;\n    this._viewManager = viewManager;\n  }\n  loadIntoExistingLocation(typeOrBinding, location, injector = null) {\n    assert.argumentTypes(typeOrBinding, assert.type.any, location, ElementRef, injector, Injector);\n    var binding = this._getBinding(typeOrBinding);\n    return assert.returnType((this._compiler.compile(binding.token).then((componentProtoView) => {\n      var componentView = this._viewManager.createDynamicComponentView(location, componentProtoView, binding, injector);\n      var dispose = () => {\n        throw new BaseException(\"Not implemented\");\n      };\n      return new ComponentRef(location, location.elementInjector.getDynamicallyLoadedComponent(), componentView, dispose);\n    })), assert.genericType(Promise, ComponentRef));\n  }\n  loadIntoNewLocation(typeOrBinding, parentComponentLocation, elementOrSelector, injector = null) {\n    assert.argumentTypes(typeOrBinding, assert.type.any, parentComponentLocation, ElementRef, elementOrSelector, assert.type.any, injector, Injector);\n    return assert.returnType((this._compiler.compileInHost(this._getBinding(typeOrBinding)).then((hostProtoView) => {\n      var hostView = this._viewManager.createInPlaceHostView(parentComponentLocation, elementOrSelector, hostProtoView, injector);\n      var newLocation = hostView.elementInjectors[0].getElementRef();\n      var component = hostView.elementInjectors[0].getComponent();\n      var dispose = () => {\n        this._viewManager.destroyInPlaceHostView(parentComponentLocation, hostView);\n      };\n      return new ComponentRef(newLocation, component, hostView.componentChildViews[0], dispose);\n    })), assert.genericType(Promise, ComponentRef));\n  }\n  loadNextToExistingLocation(typeOrBinding, location, injector = null) {\n    assert.argumentTypes(typeOrBinding, assert.type.any, location, ElementRef, injector, Injector);\n    var binding = this._getBinding(typeOrBinding);\n    return assert.returnType((this._compiler.compileInHost(binding).then((hostProtoView) => {\n      var hostView = location.viewContainer.create(-1, hostProtoView, injector);\n      var newLocation = hostView.elementInjectors[0].getElementRef();\n      var component = hostView.elementInjectors[0].getComponent();\n      var dispose = () => {\n        var index = location.viewContainer.indexOf(hostView);\n        location.viewContainer.remove(index);\n      };\n      return new ComponentRef(newLocation, component, hostView.componentChildViews[0], dispose);\n    })), assert.genericType(Promise, ComponentRef));\n  }\n  _getBinding(typeOrBinding) {\n    var binding;\n    if (typeOrBinding instanceof Binding) {\n      binding = typeOrBinding;\n    } else {\n      binding = bind(typeOrBinding).toClass(typeOrBinding);\n    }\n    return binding;\n  }\n}\nObject.defineProperty(DynamicComponentLoader, \"annotations\", {get: function() {\n    return [new Injectable()];\n  }});\nObject.defineProperty(DynamicComponentLoader, \"parameters\", {get: function() {\n    return [[Compiler], [AppViewManager]];\n  }});\nObject.defineProperty(DynamicComponentLoader.prototype.loadIntoExistingLocation, \"parameters\", {get: function() {\n    return [[], [ElementRef], [Injector]];\n  }});\nObject.defineProperty(DynamicComponentLoader.prototype.loadIntoNewLocation, \"parameters\", {get: function() {\n    return [[], [ElementRef], [assert.type.any], [Injector]];\n  }});\nObject.defineProperty(DynamicComponentLoader.prototype.loadNextToExistingLocation, \"parameters\", {get: function() {\n    return [[], [ElementRef], [Injector]];\n  }});\n//# sourceMappingURL=dynamic_component_loader.js.map\n\n//# sourceMappingURL=./dynamic_component_loader.map"]}